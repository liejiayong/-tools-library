<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
	<title>刮刮卡</title>
</head>

<body>
	<style>
		.card {
			position: relative;
			margin: 500px 50px;
		}

		.card canvas {
			margin: 0 auto;
			border: 1px solid #000;
		}
	</style>
	<p>dfffsdf</p>
	<p>dfffsdf</p>
	<p>dfffsdf</p>
	<p>dfffsdf</p>
	<p>dfffsdf</p>
	<p>dfffsdf</p>
	<div class="card"> </div>
	<button>再来一次</button>
</body>
<!-- 模块测试 -->
<script type="module">
	import CanvasScraping from './src/canvas-scraping.js'
	console.log(CanvasScraping)
	var card = document.querySelector('.card')
	var scraping = new CanvasScraping(card, {
		coverImg: './scratch-2x.jpg',
		pixelRatio: 2,
		onReady: function () { }, // 开始刮
		doneCallback: function () {
			// scraping.setCover('./scratch-2x.jpg')
		} // 全部刮完
	})

	scraping.setLock(false); // 设置锁。true不能刮
	scraping.setAward('./award.jpg') // 设置奖品
	// setInterval(() => {

	// }, 2000);

	document.querySelector('button').addEventListener('click', function () {
		scraping.reset() // 重置后才能玩下次刮刮卡
	});
</script>

<!-- <script src="./canvas-scraping.min.js"></script> -->
<!-- <script src="./CanvasScraping.js"></script> -->

<!-- <script src="./build/scraping.js"></script>
<script>
	console.log(CanvasScraping)
	var card = document.querySelector('.card')
	var scraping = new CanvasScraping.default(card, {
		coverColor: '#eff7ff',
		coverImg: './scratch-2x.jpg',
		pixelRatio: 2,
		// mode: 'sector',
		doneCallback: function () {
			// scraping.setCover('./scratch-2x.jpg')
			console.log('end')
			scraping.setLock(true)
		}
	})

	scraping.setLock(false)
	scraping.setAward('./award.jpg')
	// setInterval(() => {

	// }, 2000);
	console.log(scraping)
	document.querySelector('button').addEventListener('click', function () {
		scraping.reset()
	});
</script> -->

</html>
